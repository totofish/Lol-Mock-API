(()=>{"use strict";var e,t;!function(e){e.MOCK="MOCK",e.DESTROY="DESTROY"}(e||(e={})),function(e){e.CHECK_STATE="CHECK_STATE",e.DESTROY_MOCK="DESTROY_MOCK"}(t||(t={}));var n={disableExtension:function(){chrome.browserAction.setIcon({path:"icon16-gray.png"}),chrome.browserAction.disable()},enableExtension:function(){chrome.browserAction.setIcon({path:"icon16.png"}),chrome.browserAction.enable()},updateIcon:function(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){if(0!==e.length){var o=e[0],c=o.id,s=o.url;s&&/^https?:/.test(s)?void 0!==c&&chrome.tabs.sendMessage(c,{type:t.CHECK_STATE},(function(e){chrome.runtime.lastError?n.disableExtension():e?(n.enableExtension(),n.checkEnableState(c)):n.disableExtension()})):n.disableExtension()}else n.disableExtension()}))},checkEnableState:function(e){chrome.storage.local.get(["enable"],(function(n){!1===n.enable&&chrome.tabs.sendMessage(e,{type:t.DESTROY_MOCK})}))}};chrome.tabs.onUpdated.addListener(n.updateIcon),chrome.tabs.onActivated.addListener(n.updateIcon),chrome.runtime.onInstalled.addListener((function(){chrome.contextMenus.create({id:"mock-contextMenus",title:"Lol Mock API Github",contexts:["browser_action"]})})),chrome.contextMenus.onClicked.addListener((function(e){"mock-contextMenus"===e.menuItemId&&chrome.tabs.create({url:"https://github.com/totofish/Lol-Mock-API"})}))})();